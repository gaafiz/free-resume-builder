<mat-tab-group id="edit-content-tab" mat-align-tabs="center" dynamicHeight="true" class="centerize">

  <mat-tab label="Basics" >
    <div class="tab-body">

    <div class="fields-row">
    <mat-form-field appearance="fill">
      <mat-label>Candidate Full Name</mat-label>
      <input matInput [(ngModel)]="inputJsonResume.basics.name" name="fullname" required>
      <mat-hint align="start">Full Name (Incl. middle names)</mat-hint>
    </mat-form-field>

    <mat-form-field appearance="fill" >
      <mat-label>Candidate Role</mat-label>
      <input matInput [(ngModel)]="inputJsonResume.basics.label" name="role">
      <mat-hint align="start">Label/Role which identify you professionally. I.e. "Graphic Designer"</mat-hint>
    </mat-form-field>
    </div>

    <div class="fields-row">
      <mat-form-field appearance="fill" class="field-photo">
        <mat-label>Photo</mat-label>
        <input matInput [(ngModel)]="inputJsonResume.basics.image" name="photo">
        <mat-hint align="start">Enter an image link or upload a local picture</mat-hint>
      </mat-form-field>
      <input hidden type="file" #imgFileInput (change)="uploadPicture($event)"/>
      <button class="mat-raised-button" type="button" mat-raised-button color="primary" (click)="imgFileInput.click()">Upload Picture</button>
    </div>

    <div class="fields-row">
      <mat-form-field appearance="fill" >
        <mat-label>Birthday</mat-label>
        <input matInput [(ngModel)]="inputJsonResume.basics.birthday" name="birthday">
        <mat-hint align="start">It is a simple text field, choose the date format you prefer.</mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill" >
        <mat-label>Nationality</mat-label>
        <input matInput [(ngModel)]="inputJsonResume.basics.nationality" name="nationality">
        <mat-hint align="start">Enter Nationality and VISA, if needed. I.e. Japanese with EU working Permit</mat-hint>
      </mat-form-field>
    </div>

    <app-section-separator text="Contacts"></app-section-separator>
    <div class="fields-row">
      <mat-form-field appearance="fill" >
        <mat-label>Email</mat-label>
        <input matInput type="email" [(ngModel)]="inputJsonResume.basics.email" name="email" email="true">
        <mat-hint align="start">Enter a valid Email</mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill" >
        <mat-label>Phone Number</mat-label>
        <input matInput [(ngModel)]="inputJsonResume.basics.phone" name="phone">
        <mat-hint align="start"></mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill" >
        <mat-label>Personal Website</mat-label>
        <input matInput [(ngModel)]="inputJsonResume.basics.url" name="personalWebsite">
        <mat-hint align="start"></mat-hint>
      </mat-form-field>
    </div>

    <app-section-separator text="Current Address"></app-section-separator>

    <div class="fields-row">
      <mat-form-field appearance="fill" >
        <mat-label>Country</mat-label>
        <input matInput [(ngModel)]="inputJsonResume.basics.location.countryCode" name="country">
        <mat-hint align="start">Enter a Country name or abbreviation</mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill" >
        <mat-label>City</mat-label>
        <input matInput [(ngModel)]="inputJsonResume.basics.location.city" name="city">
        <mat-hint align="start"></mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill" >
        <mat-label>Street</mat-label>
        <input matInput [(ngModel)]="inputJsonResume.basics.location.address" name="addressStreet">
        <mat-hint align="start"></mat-hint>
      </mat-form-field>

<!--      <mat-form-field appearance="fill" >-->
<!--        <mat-label>Postal Code</mat-label>-->
<!--        <input matInput [(ngModel)]="inputJsonResume.basics.location.postalCode" name="postalCode">-->
<!--        <mat-hint align="start"></mat-hint>-->
<!--      </mat-form-field>-->
    </div>

    <app-section-separator text="Summary"></app-section-separator>
    <ckeditor [(ngModel)]="inputJsonResume.basics.summary" [config]="config" [readonly]="false" debounce="500">
    </ckeditor>



  </div>
  </mat-tab>



  <mat-tab label="Languages & Profiles" >
  <div class="tab-body">

    <app-section-separator text="Languages"></app-section-separator>
    <div class="fields-row" *ngFor="let language of inputJsonResume.languages; let i = index;">
      <mat-form-field appearance="fill" >
        <mat-label>Flag Country Code</mat-label>
        <span matPrefix><span class="flag-icon flag-icon-{{language.countryCode | lowercase}}"></span> &nbsp;</span>
        <input matInput [(ngModel)]="language.countryCode" name="{{'countryCode - ' + i}}">
        <mat-hint align="start">Use a 2-digit country code</mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill" >
        <mat-label>Language</mat-label>
        <input matInput [(ngModel)]="language.language" name="{{'language - ' + i}}">
        <mat-hint align="start"></mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill" >
        <mat-label>Fluency</mat-label>
        <input matInput [(ngModel)]="language.fluency" name="{{'fluency - ' + i}}">
        <mat-hint align="start"></mat-hint>
      </mat-form-field>

      <button mat-mini-fab class="mat-fab" color="warn" (click)="removeItem(inputJsonResume.languages, language)">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
    <button
      class="mat-raised-button add-element-btn"
      type="button"
      mat-raised-button
      color="primary"
      (click)="addNewLanguage()">
      Add Language
    </button>

    <app-section-separator text="Network Profiles"></app-section-separator>
    <div class="fields-row" *ngFor="let profile of inputJsonResume.basics.profiles; let i = index;">
      <mat-form-field appearance="fill" >
        <mat-label>Network</mat-label>
        <input matInput [(ngModel)]="profile.network" name="{{'profileNetwork - ' + i}}">
        <mat-hint align="start"></mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill" >
        <mat-label>Username</mat-label>
        <input matInput [(ngModel)]="profile.username" name="{{'profileUsername - ' + i}}">
        <mat-hint align="start"></mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill" >
        <mat-label>Profile Link</mat-label>
        <input matInput [(ngModel)]="profile.url" name="{{'profileUrl - ' + i}}">
        <mat-hint align="start"></mat-hint>
      </mat-form-field>

      <button mat-mini-fab class="mat-fab" color="warn" (click)="removeProfile(profile)">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
    <button
      class="mat-raised-button add-element-btn"
      type="button"
      mat-raised-button
      color="primary"
      (click)="addNewProfile()">
        Add Network Profile
    </button>

  </div>
  </mat-tab>

  <mat-tab label="Skills" >
    <div class="tab-body">
      <app-section-separator text="Skills"></app-section-separator>
      <div class="fields-row" *ngFor="let skill of inputJsonResume.skills; let i = index;">
        <mat-form-field appearance="fill" >
          <mat-label>Skill Category</mat-label>
          <input matInput [(ngModel)]="skill.name" name="{{'skillName - ' + i}}">
          <mat-hint align="start"></mat-hint>
        </mat-form-field>

        <mat-form-field appearance="fill" class="skill-keyword">
          <mat-label>Keyword</mat-label>
          <input matInput [value]="getSkillKeywords(skill)" (change)="setSkillKeywords(skill, $event.target.value)" name="{{'skillKeywords - ' + i}}">
          <mat-hint align="start">Enter keywords separated by semicolumn ';'</mat-hint>
        </mat-form-field>

        <button mat-mini-fab class="mat-fab" color="warn" (click)="removeItem(skill.keywords, kw)">
          <mat-icon>delete</mat-icon>
        </button>
      </div>


      <button
        class="mat-raised-button add-element-btn"
        type="button"
        mat-raised-button
        color="primary"
        (click)="addNewSkill()">
        Add Skill
      </button>
    </div>
  </mat-tab>

  <mat-tab label="Experiences" >
    <div class="tab-body">
      <div *ngFor="let expItem of inputJsonResume.work; let i = index;">
        <app-section-separator text="Experience {{i+1}}"></app-section-separator>

        <div class="fields-row">
          <mat-form-field appearance="fill">
            <mat-label>Company</mat-label>
            <input matInput [(ngModel)]="expItem.company" name="{{'expItemCompany - ' + i}}" required>
            <mat-hint align="start"></mat-hint>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Company Address</mat-label>
            <input matInput [(ngModel)]="expItem.address" name="{{'expItemAddress - ' + i}}">
            <mat-hint align="start"></mat-hint>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Company Website</mat-label>
            <input matInput [(ngModel)]="expItem.website" name="{{'expItemWebsite- ' + i}}">
            <mat-hint align="start"></mat-hint>
          </mat-form-field>
        </div>

        <div class="fields-row">
          <mat-form-field appearance="fill">
            <mat-label>Job Position</mat-label>
            <input matInput [(ngModel)]="expItem.position" name="{{'expItemPosition - ' + i}}" required>
            <mat-hint align="start"></mat-hint>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Start Date</mat-label>
            <input matInput [(ngModel)]="expItem.startDate" name="{{'expItemStartDate - ' + i}}" required>
            <mat-hint align="start"></mat-hint>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>End Date</mat-label>
            <input matInput [(ngModel)]="expItem.endDate" name="{{'expItemEndDate - ' + i}}">
            <mat-hint align="start">If empty, 'Present' is assumed</mat-hint>
          </mat-form-field>
        </div>

        <app-section-separator text="Summary"></app-section-separator>
        <div class="fields-row">
          <ckeditor [(ngModel)]="expItem.summary" [config]="config" [readonly]="false" debounce="500">
          </ckeditor>
        </div>


        <div *ngFor="let project of expItem.projects; let j = index;" class="normal-flow">
          <app-section-separator text="Experience {{i+1}} - Project {{j+1}}"></app-section-separator>
          <div class="fields-row">
            <mat-form-field appearance="fill">
              <mat-label>Project Name</mat-label>
              <input matInput [(ngModel)]="project.name" name="{{'projName - ' + i + ' - ' + j}}" required>
              <mat-hint align="start"></mat-hint>
            </mat-form-field>
          </div>

          <div class="fields-row">
          <ckeditor [(ngModel)]="project.summary" [config]="config" [readonly]="false" debounce="500">
          </ckeditor>
          </div>
          <button
            class="mat-raised-button add-element-btn"
            type="button"
            mat-raised-button
            color="warn"
            (click)="removeItem(expItem.projects, project) ">
            Remove Project
          </button>
        </div>

      </div>
    </div>
  </mat-tab>

  <mat-tab label="Education" >
    <div class="tab-body">
    </div></mat-tab>

  <mat-tab label="Misc" >
    <div class="tab-body">

      <mat-form-field appearance="fill">
        <mat-label>Resume Version</mat-label>
        <input matInput [(ngModel)]="inputJsonResume.version" name="version" required>
        <mat-hint align="start">Identify the last version of your Resume</mat-hint>
      </mat-form-field>

      <app-section-separator text="Attachments"></app-section-separator>
      <div class="fields-row" *ngFor="let attachment of inputJsonResume.attachments; let i = index;">
        <mat-form-field appearance="fill" >
          <mat-label>Document Name</mat-label>
          <input matInput [(ngModel)]="attachment.label" name="{{'attachmentName - ' + i}}">
          <mat-hint align="start"></mat-hint>
        </mat-form-field>

        <mat-form-field appearance="fill" >
          <mat-label>Document Link</mat-label>
          <input matInput [(ngModel)]="attachment.url" name="{{'attachmentLink - ' + i}}">
          <mat-hint align="start"></mat-hint>
        </mat-form-field>

        <button mat-mini-fab class="mat-fab" color="warn" (click)="removeAttachment(attachment)">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
      <button
        class="mat-raised-button add-element-btn"
        type="button"
        mat-raised-button
        color="primary"
        (click)="addNewAttachment()">
        Add Attachment
      </button>
    </div>
  </mat-tab>


</mat-tab-group>




<!--<div>-->
<!--  <span><b>Resume Content </b></span>-->
<!--  <input-->
<!--    style="display: none"-->
<!--    type="file" (change)="onContentFileChanged($event)"-->
<!--    #contentFileInput>-->
<!--  <button (click)="contentFileInput.click()">Load</button>-->
<!--  <button (click)="downloadJsonResumeContent()">Save</button>-->
<!--</div>-->

<!--<div>-->
<!--  <span><b>Resume Template Configuration </b></span>-->
<!--  <input-->
<!--    style="display: none"-->
<!--    type="file" (change)="onConfFileChanged($event)"-->
<!--    #confFile>-->
<!--  <button (click)="confFile.click()">Load</button>-->
<!--  <button (click)="downloadTemplateConfig()">Save</button>-->
<!--</div>-->
<!--<hr>-->







